(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-points-edit"],{"1ab1":function(t,e,i){"use strict";i.r(e);var a=i("8229"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"61c5":function(t,e,i){t.exports=i.p+"static/img/bg_2.68a48a78.png"},"696c":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"edit"},[i("v-uni-text",{staticClass:"editTitle"},[t._v("礼品信息")]),i("v-uni-view",{staticClass:"editBox"},[i("v-uni-view",{staticClass:"dateBox"},[i("v-uni-view",{staticClass:"img"},[i("v-uni-image",{attrs:{mode:"aspectFit",src:t.list.url}})],1),i("v-uni-view",{staticClass:"data"},[i("v-uni-text",{staticClass:"tit"},[t._v(t._s(t.list.goodsName))]),i("v-uni-text",{staticClass:"point"},[i("span",[t._v(t._s(t.list.integralNum))]),t._v("积分")])],1)],1)],1),i("v-uni-view",{staticClass:"editBox"},[i("v-uni-text",{staticClass:"title"},[t._v("收货地址")]),i("v-uni-form",{staticClass:"formDate",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"formList"},[i("v-uni-text",[t._v("姓名")]),i("v-uni-input",{attrs:{name:"name",value:t.address.userName,type:"text",placeholder:"请填写收货人姓名"}})],1),i("v-uni-view",{staticClass:"formList"},[i("v-uni-text",[t._v("电话")]),i("v-uni-input",{attrs:{name:"tel",value:t.address.telephone,type:"number",maxlength:"11",placeholder:"请填写收货人手机号"}})],1),i("v-uni-view",{staticClass:"formList"},[i("v-uni-text",[t._v("详细地址")]),i("v-uni-input",{attrs:{name:"address",value:t.address.receiveAddress,type:"text",placeholder:"精确到小区、楼牌号等"}})],1),t.isOK?i("v-uni-button",{staticClass:"formSub",attrs:{"form-type":"submit"}},[t._v("确认兑换")]):t._e(),t.isOK?t._e():i("v-uni-button",{staticClass:"formSub"},[t._v("确认兑换")])],1)],1)],1),i("v-uni-view",{staticClass:"home",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goHome()}}},[t._v("返回首页")]),t.isShow?i("popup",{attrs:{type:t.type,num:t.num},on:{closePopup:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)},"get-user":function(e){arguments[0]=e=t.$handleEvent(e),t.getUser.apply(void 0,arguments)}}}):t._e()],1)},s=[]},8229:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9a1a")),s={components:{popup:n.default},data:function(){return{list:[],vation:!0,userinfo:"",address:[],isShow:!1,isOK:!0}},onLoad:function(){var e=this;this.clickLeft(),this.userinfo=JSON.parse(uni.getStorageSync("userInfo"));var i=e.getOpenerEventChannel();i.on("getDate",(function(i){e.list=i.e,t.log(i,e.list)}))},methods:{clickLeft:function(){var e=uni.getStorageSync("address");t.log(e,11111),e.length>0&&(this.address=JSON.parse(e))},submit:function(e){this.isOK=!1;var i=e.detail.value,a=this;if(""==i.name?(this.$base.setshowToast("请填写收货人姓名","none","top",2e3),this.vation=!1):this.$base.isTel(i.tel)?""==i.address?(this.$base.setshowToast("请填写详细地址","none","top",2e3),this.vation=!1):this.vation=!0:(this.$base.setshowToast("请填写收货人正确的手机号","none","top",2e3),this.vation=!1),this.vation){var n={addressPO:{userName:i.name,telephone:i.tel,receiveAddress:i.address},userId:this.userinfo.id,goodsId:this.list.id,integralNum:this.list.integralNum,goodsName:this.list.goodsName,url:this.list.url};t.log(n),this.$base.getRequest("POST",this.$base.api["goodsExchange"],n).then((function(e){var n=e.data;if(1==n.code){a.list=n.data,t.log(a.userinfo.integral),t.log(a.list.integralNum);var s=parseInt(a.userinfo.integral)-parseInt(a.list.integralNum);t.log(s),a.userinfo.integral=s,uni.setStorageSync("userInfo",JSON.stringify(a.userinfo)),t.log(a.userinfo);var o={userName:i.name,telephone:i.tel,receiveAddress:i.address};a.$base.setshowToast('兑换成功！您可以点击头像进入"我的礼品"查看发货状态哦',"none","top",5e4),uni.setStorageSync("address",JSON.stringify(o)),setTimeout((function(){uni.redirectTo({url:"/pages/points/index"}),a.isOK=!0}),4e3)}else a.$base.setshowToast("您的积分不足，每天来打卡、邀请好友、分享故事/摄影等攒取更多积分吧","none","top",5e3),setTimeout((function(){uni.redirectTo({url:"/pages/points/index"}),a.isOK=!0}),4e3)})).catch((function(e){t.log("error:"+e)}))}},goHome:function(){uni.setStorageSync("qiang",JSON.stringify(1)),uni.redirectTo({url:"/pages/index/index"})}}};e.default=s}).call(this,i("5a52")["default"])},"91f2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAulBMVEUAAAAAAAAAAAD2cGqEOi73cWv4cWv4cWv2cGr1b2nyb2rjaGHfZ2LdZWDbZlzOXlj3cGvzb2luLSj3cGvwbmnzbmnvbWjxb2n2b2v1cGr3cWv////++/v95eT7vrv4j4v3dW/93937w8D+8vH829r6s7D3f3r3cmz++Pj++Pf81tT809H3eXT97ez94uH7yMX4i4b3fHb+9fT96ej8zMr6sKz5npr5mJT6ubb4mJT4iIP4hH75qqf5paE7mJ3rAAAAGnRSTlMFCArsDfv479G4kUQ7NzQr1rIR85ybhYPXsFbN5LMAAAH5SURBVDjLjZVre7IwDIZbQOdkTGEetoTzQUSYTt3c6X3//99aYWOmKLLnQ6/06k1J0yRlsjR9/jBW+311/DDXNdYuY3oFRFdTowW8vYYTXd+eAbVhD86oNzxxYzSAFg1GMnmjQqvUG4m8gwu6I+xIhYtSf33QBtChQX22IXRq+BPPXjfaq+LLG5F/3eyzbL95bdwFF6QBVB8BopPnDmLwAVQGZ3wKRO+Z7S5KY+Ha2TtdmXKm0Qx5WkZebXvR8onmjsZ0IFrbJVmz9pqu6WxOZgd0xZgewrA6lIsHsjhnJpk9o/DTX6HQc+mvGI8y2ZjMHh0xJLjZLnL8L0znkSyOGb1+e1X6u0sBCjsX5mpJE4H1yWwZl1tFYvCrr2KK9o9o/UMXE0hdfKkcoqjkQIgikts9RjsMfBFldKkD0rE8DMVYvAVx4ldfetKxTCAK7M/j5NOOQQrWDKRt47S208D26NpMvlgI8a02XXSBSpfTBfwA/0GlF4x9kNOFT4Bq61RhggSdAqgmvJnasHAw9P0NrrdwktrNgilWuMswL5oFU6LNMkyTKEpOyrBC+V+Km3+jVnfLsH5Q3t2IeI3yrvbGjyi/3DQ5RZVLrVihqGCttgZvCZKiglXOPxuKwglas4oxkR+jiaEIkqCEVSx9Zt6XT9y9OdMthZL8C+EglC0GjGGoAAAAAElFTkSuQmCC"},"9c78":function(t,e,i){var a=i("d280");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("60bc7cce",a,!0,{sourceMap:!1,shadowMode:!1})},cfc6:function(t,e,i){"use strict";i.r(e);var a=i("696c"),n=i("1ab1");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("d017");var o,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"6463233f",null,!1,a["a"],o);e["default"]=d.exports},d017:function(t,e,i){"use strict";var a=i("9c78"),n=i.n(a);n.a},d280:function(t,e,i){var a=i("24fb"),n=i("1de5"),s=i("61c5"),o=i("91f2");e=a(!1);var r=n(s),d=n(o);e.push([t.i,".page[data-v-6463233f]{background:#f3f3f3 url("+r+") no-repeat;background-size:100% auto;font-size:14px}.edit[data-v-6463233f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#f3f3f3;padding:%?20?% 4%}.editBox[data-v-6463233f]{width:100%;padding:16px;margin:10px auto;background:#fff;box-shadow:0 2px 10px 0 rgba(0,0,0,.05);border-radius:16px;font-size:14px}.editTitle[data-v-6463233f]{font-size:18px;font-weight:600;padding:10px 0}.dateBox[data-v-6463233f]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.img[data-v-6463233f]{width:88px;height:88px;background:#f3f3f3;padding:5px 0;border-radius:8px;margin-right:14px}.dateBox uni-image[data-v-6463233f]{width:auto;height:100%}.tit[data-v-6463233f],.point[data-v-6463233f]{line-height:3;font-weight:600}.point[data-v-6463233f]{color:#ff8033}.point span[data-v-6463233f]{font-size:18px;margin-right:5px}.title[data-v-6463233f]{background:url("+d+") no-repeat;background-size:auto 100%;height:26px;line-height:26px;color:#999;padding-left:35px}.formDate[data-v-6463233f]{font-size:14px}.formList[data-v-6463233f]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:1px solid #f3f3f3;padding:15px 0}.formList uni-text[data-v-6463233f]{width:30%;font-weight:600}.formList uni-input[data-v-6463233f]{width:65%;font-size:14px;text-align:right}.formSub[data-v-6463233f]{width:50%;height:42px;line-height:42px;font-size:14px;background:-webkit-linear-gradient(right,#ff7d7a,#ffc298);background:linear-gradient(270deg,#ff7d7a,#ffc298);border-radius:22px;color:#fff;margin-top:%?100?%}",""]),t.exports=e}}]);