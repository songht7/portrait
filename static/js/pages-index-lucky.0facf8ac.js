(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-lucky"],{"0446":function(e,t,n){e.exports=n.p+"static/img/cj.4b208e8c.png"},"06c5":function(e,t,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=c(n("6b75"));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(e){if("string"===typeof e)return(0,a.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,a.default)(e,t):void 0}}},"0e3d":function(e,t,n){"use strict";n.r(t);var a=n("2702"),c=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=c.a},"1de5":function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},2702:function(e,t,n){"use strict";var a=n("4ea4");n("99af"),n("4de4"),n("caad"),n("d3b7"),n("e25e"),n("25f0"),n("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n("5530")),i=a(n("2909")),u="",o={data:function(){return{lucky:1,luckyCount:1,pCount:200,minNum:1,isLucked:{},numb:[],StorageLucked:[],luckyV1:[],luckyV2:[],luckyV3:[],luckyV4:[],luckyV5:[],luckyV6:[],hasBlockBox:!1}},onLoad:function(e){},onShow:function(){var e=this;e.getAction(),e.getLucked(),e.getmyLuck()},onReady:function(){var e=this;e.random(0)},components:{},methods:{getAction:function(){var e=this;uni.getStorage({key:"rbdAction",success:function(t){e.lucky=parseInt(t.data.lucky),e.luckyCount=parseInt(t.data.luckyCount),e.pCount=parseInt(t.data.pCount)}})},getLucked:function(){var e=this;uni.getStorage({key:"rbdLucked",success:function(t){var n=t.data.v1?t.data.v1:[],a=t.data.v2?t.data.v2:[],c=t.data.v3?t.data.v3:[],u=t.data.v4?t.data.v4:[],o=t.data.v5?t.data.v5:[],l=t.data.v6?t.data.v6:[],r=[].concat((0,i.default)(n),(0,i.default)(a),(0,i.default)(c),(0,i.default)(u),(0,i.default)(o),(0,i.default)(l));e.StorageLucked=r;var d="v"+e.lucky;t.data[d]&&(e.isLucked[d]=t.data[d]),console.log("StorageLucked::",r)},fail:function(){e.StorageLucked=[],e.isLucked={}}})},getmyLuck:function(){var e=this;uni.getStorage({key:"myLuck",success:function(t){e.luckyV1=t.data.v1?t.data.v1:[],e.luckyV2=t.data.v2?t.data.v2:[],e.luckyV3=t.data.v3?t.data.v3:[],e.luckyV4=t.data.v4?t.data.v4:[],e.luckyV5=t.data.v5?t.data.v5:[],e.luckyV6=t.data.v6?t.data.v6:[],(e.luckyV1.length||e.luckyV2.length||e.luckyV3.length||e.luckyV4.length||e.luckyV5.length||e.luckyV6.length)&&(console.log("myLuck::",e.luckyV1,e.luckyV2,e.luckyV3),e.hasBlockBox=!0)},fail:function(){e.luckyV1=[],e.luckyV2=[],e.luckyV3=[],e.luckyV4=[],e.luckyV5=[],e.luckyV6=[],e.hasBlockBox=!1}})},getData:function(e){var t=this,n="v"+t.lucky;if(console.log(n),t.isLucked[n]&&t.isLucked[n].length>=t.luckyCount)return uni.showToast({title:"本轮抽奖结束"}),!1;if(u){clearInterval(u),u="";var a={};switch(t.lucky.toString()){case"1":var o=t.isLucked["v1"]?t.isLucked["v1"]:[];t.hasBlockBox&&t.luckyV1.length&&(t.numb=t.luckyV1),a={v1:[].concat((0,i.default)(o),(0,i.default)(t.numb))};break;case"2":var l=t.isLucked["v2"]?t.isLucked["v2"]:[];if(t.hasBlockBox){var r=t.isLucked[n]&&t.isLucked[n].length?t.luckyCount-t.isLucked[n].length:0;t.luckyV2[r]&&(t.numb=[t.luckyV2[r]])}a={v2:[].concat((0,i.default)(l),(0,i.default)(t.numb))};break;case"3":var d=t.isLucked["v3"]?t.isLucked["v3"]:[];if(t.hasBlockBox){var s=t.isLucked[n]&&t.isLucked[n].length?t.luckyCount-t.isLucked[n].length:0;t.luckyV3[s]&&(t.numb=[t.luckyV3[s]])}a={v3:[].concat((0,i.default)(d),(0,i.default)(t.numb))};break;case"4":var k=t.isLucked["v4"]?t.isLucked["v4"]:[];if(t.hasBlockBox){var f=t.isLucked[n]&&t.isLucked[n].length?t.luckyCount-t.isLucked[n].length:0;t.numb=[t.luckyV4[f]]}a={v4:[].concat((0,i.default)(k),(0,i.default)(t.numb))};break;case"5":var b=t.isLucked["v5"]?t.isLucked["v5"]:[];if(t.hasBlockBox){var v=t.isLucked[n]&&t.isLucked[n].length?t.luckyCount-t.isLucked[n].length:0;t.numb=[t.luckyV5[v]]}a={v5:[].concat((0,i.default)(b),(0,i.default)(t.numb))};break;case"6":var y=t.isLucked["v6"]?t.isLucked["v6"]:[];if(t.hasBlockBox){var g=t.isLucked[n]&&t.isLucked[n].length?t.luckyCount-t.isLucked[n].length:0;t.numb=[t.luckyV6[g]]}a={v6:[].concat((0,i.default)(y),(0,i.default)(t.numb))};break;default:break}var w=(0,c.default)((0,c.default)({},t.isLucked),a);t.isLucked=w,uni.getStorage({key:"rbdLucked",success:function(e){uni.setStorage({key:"rbdLucked",data:(0,c.default)((0,c.default)({},e.data),w),success:function(){t.getLucked()}})},fail:function(){uni.setStorage({key:"rbdLucked",data:w,success:function(){t.getLucked()}})}}),console.log("isLucked:::",w,a)}else t.isLucked[n]&&t.isLucked[n].length<t.luckyCount?t.random(u):t.isLucked[n]||t.random(u)},delt:function(e){var t=this,n=e.currentTarget.dataset.key,a=e.currentTarget.dataset.val,c="v"+t.lucky;console.log(n,a,c),uni.getStorage({key:"rbdLucked",success:function(e){var i=e.data;i[c][n];console.log(i),uni.showModal({title:"放弃？",content:"幸运号："+a,success:function(e){e.confirm?(console.log("用户点击确定"),i[c]=i[c].filter((function(e,t){if(t!=n)return e})),uni.setStorage({key:"rbdLucked",data:i,success:function(){t.getLucked()}})):e.cancel}})},fail:function(){}})},random:function(e){var t=this,n=1,a=t.pCount;t.minNum;u=setInterval((function(){var e=n+1<=a?n+1:1;t.StorageLucked.includes(e)||(t.numb=[e]),n=e}),.1)},getLucky:function(e){console.log(e.detail.value)},getLuckyCount:function(e){console.log(e.detail.value)},getPCount:function(e){console.log(e.detail.value)}}};t.default=o},2909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var a=o(n("6005")),c=o(n("db90")),i=o(n("06c5")),u=o(n("3427"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){return(0,a.default)(e)||(0,c.default)(e)||(0,i.default)(e)||(0,u.default)()}},3427:function(e,t,n){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"57f1":function(e,t,n){"use strict";var a=n("b59f"),c=n.n(a);c.a},"59bc":function(e,t,n){var a=n("24fb"),c=n("1de5"),i=n("0446");t=a(!1);var u=c(i);t.push([e.i,"uni-page-body[data-v-e0d61432]{font-size:%?12?%;height:100%}.ipt[data-v-e0d61432]{font-size:%?12?%;border-bottom:1px solid #ddd;width:100px;text-align:center}.lucky-main[data-v-e0d61432],\n.lucky-block[data-v-e0d61432]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;height:100%}.lucky-main[data-v-e0d61432]{background:url("+u+") no-repeat 50% 50%;background-size:cover}.lucky-block[data-v-e0d61432]{width:50%}.lucky-box[data-v-e0d61432]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.lucky-numb[data-v-e0d61432]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center}.numb[data-v-e0d61432]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;width:%?130?%;height:%?130?%;font-size:%?60?%;border:%?5?% solid #35a6df;color:#3c74ba;border-radius:50%;margin:0 %?10?%}.lucky-value[data-v-e0d61432]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;padding:%?10?% 0;font-size:%?26?%;color:#3c74ba}.lucky-value[data-v-e0d61432]{top:%?20?%;bottom:auto}.lk-val[data-v-e0d61432]{padding:0 %?1?%}.lb-row[data-v-e0d61432]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}",""]),e.exports=t},6005:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=c(n("6b75"));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e))return(0,a.default)(e)}},"6b75":function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},a75c:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"lucky-main"},[n("v-uni-view",{staticClass:"lucky-block lucky-info"},[n("v-uni-view",{})],1),n("v-uni-view",{staticClass:"lucky-block lucky-box"},[n("v-uni-view",{staticClass:"lucky-numb"},[e._l(e.numb,(function(t,a){return[n("v-uni-view",{key:a+"_0",staticClass:"numb",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getData(a)}}},[e._v(e._s(t))])]}))],2),n("v-uni-view",{staticClass:"lucky-value"},[n("v-uni-view",{staticClass:"lb-row"},[e._v(e._s(e.lucky)+"等奖"+e._s(e.luckyCount)+"名")]),n("v-uni-view",{staticClass:"lb-row"},[n("v-uni-text",{staticClass:"lk-val"},[e._v("幸运号码")]),e._l(e.isLucked["v"+e.lucky],(function(t,a){return[n("v-uni-text",{key:a+"_0",staticClass:"lk-val",attrs:{"data-key":a,"data-val":t},on:{longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.delt.apply(void 0,arguments)},dblclick:function(t){arguments[0]=t=e.$handleEvent(t),e.delt.apply(void 0,arguments)}}},[e._v("‘"+e._s(t)+"’")])]}))],2)],1)],1)],1)},i=[]},b59f:function(e,t,n){var a=n("59bc");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var c=n("4f06").default;c("420a19be",a,!0,{sourceMap:!1,shadowMode:!1})},db90:function(e,t,n){"use strict";function a(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},dcb1:function(e,t,n){"use strict";n.r(t);var a=n("a75c"),c=n("0e3d");for(var i in c)"default"!==i&&function(e){n.d(t,e,(function(){return c[e]}))}(i);n("57f1");var u,o=n("f0c5"),l=Object(o["a"])(c["default"],a["b"],a["c"],!1,null,"e0d61432",null,!1,a["a"],u);t["default"]=l.exports}}]);